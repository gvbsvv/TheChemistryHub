<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Chemistry Hub</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
    <style>
        /* ... (Your CSS styles remain the same) ... */
    </style>
</head>
<body>
    <div class="header">The Chemistry Hub</div>

    <div class="content-container">
        <div class="chemistry-sections">
            <div class="chemistry-section">
                <h2>ðŸ“— General Chemistry</h2>
                <ul class="chemistry-links" id="general-chemistry-links">
                </ul>
            </div>

            <div class="chemistry-section">
                <h2>ðŸ“˜ AP Chemistry</h2>
                <ul class="chemistry-links" id="ap-chemistry-links">
                </ul>
            </div>
        </div>
        <div class="intro-section">
            <h2>Introduction to Chemistry</h2>
            <div id="intro-content">Loading...</div>
        </div>
    </div>

    <script>
        async function loadMarkdown(file, targetElementId) {
            // ... (loadMarkdown function remains the same) ...
        }

        function addLinks(links, targetElementId) {
          const ul = document.getElementById(targetElementId);
          if (ul) { // Check if the element exists before trying to add links
            links.forEach(link => {
              const li = document.createElement('li');
              const a = document.createElement('a');
              a.href = `viewer.html?file=${link.file}`;
              a.textContent = link.text;
              li.appendChild(a);
              ul.appendChild(li);
            });
          } else {
            console.error("Target element not found:", targetElementId);
          }
        }


        window.addEventListener('DOMContentLoaded', () => {
            loadMarkdown('introduction-to-chemistry.md', 'intro-content');

            const apChemistryLinks = [ /* ... Your AP Chemistry Links ... */ ];
            const generalChemistryLinks = [ /* ... Your General Chemistry Links ... */ ];

            // Call addLinks AFTER the DOM is fully loaded.
            setTimeout(() => { // Use setTimeout to ensure the DOM is ready
              addLinks(generalChemistryLinks, 'general-chemistry-links');
              addLinks(apChemistryLinks, 'ap-chemistry-links');
            }, 0); // A timeout of 0ms is often enough to ensure the DOM is ready.

        });
    </script>
</body>
</html>
